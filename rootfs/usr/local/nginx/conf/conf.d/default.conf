server {
    listen 80;
    listen [::]:80;

    server_name nginxproxymanager-default;
    
    include conf.d/include/force-ssl.conf;
    include conf.d/include/block-exploits.conf;
    include conf.d/include/letsencrypt-acme-challenge.conf;
}

# First 443 Host, which is the default if another default doesn't exist
server {
    listen 443 ssl http2;
    listen 443 http3;
    listen [::]:443 ssl http2;
    listen [::]:443 http3;

    add_header alt-svc 'h3=":443"; ma=86400, h3-29=":443"; ma=86400';

    server_name nginxproxymanager-default;
    
    ssl_certificate /data/nginx/dummycert.pem;
    ssl_certificate_key /data/nginx/dummykey.pem;
    
    include conf.d/include/ssl-ciphers.conf;
    include conf.d/include/block-exploits.conf;
    include conf.d/include/letsencrypt-acme-challenge.conf;

    location / {
        include conf.d/include/letsencrypt-acme-challenge.conf;
        root /var/www/html;
    }
}
